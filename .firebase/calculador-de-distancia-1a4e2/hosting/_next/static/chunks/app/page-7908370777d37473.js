(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{726:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var n=a(5155),l=a(2115);let o=(0,a(5028).default)(()=>Promise.all([a.e(484),a.e(761),a.e(408)]).then(a.bind(a,4408)),{loadableGenerated:{webpack:()=>[4408]},ssr:!1}),s=()=>{let[e,t]=(0,l.useState)(""),[a,s]=(0,l.useState)(""),[r,c]=(0,l.useState)(null),[i,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(!1),[h,b]=(0,l.useState)(null),[x,f]=(0,l.useState)(null),g=async e=>{let t="https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(e),"&format=json&limit=1"),a=await fetch(t),n=await a.json();if(0===n.length)throw Error('No se encontraron coordenadas para "'.concat(e,'"'));return console.log(n[0].lat),console.log(n[0].lon),{lat:n[0].lat,lon:n[0].lon}},p=async()=>{d(null),c(null),m(!0);try{let t=await g(e);b(t);let n=await g(a);f(n);let l="https://router.project-osrm.org/route/v1/driving/".concat(t.lon,",").concat(t.lat,";").concat(n.lon,",").concat(n.lat,"?overview=false"),o=await fetch(l),s=await o.json();if("Ok"===s.code&&s.routes&&0!==s.routes.length){let e=(s.routes[0].distance/1e3).toFixed(2);c(e)}else d("No se pudo calcular la ruta")}catch(e){d(e.message||"Error desconocido")}finally{m(!1)}};return(0,n.jsxs)("div",{className:"relative min-h-screen",children:[h&&x&&(0,n.jsx)("div",{className:"absolute inset-0 -z-10",children:(0,n.jsx)(o,{origen:h,destino:x})}),(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen p-6",children:(0,n.jsxs)("div",{className:"max-w-md w-full p-6 bg-white bg-opacity-90 rounded-lg shadow-md font-sans text-gray-800 backdrop-blur-sm",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Calculadora de Distancia con Geocoding"}),(0,n.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!e.trim()||!a.trim())return void d("Por favor ingresa ambas direcciones");p()},className:"flex flex-col space-y-4",children:[(0,n.jsx)("input",{type:"text",placeholder:"Direcci\xf3n origen",value:e,onChange:e=>t(e.target.value),className:"p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsx)("input",{type:"text",placeholder:"Direcci\xf3n destino",value:a,onChange:e=>s(e.target.value),className:"p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsx)("button",{type:"submit",disabled:u,className:"flex-1 p-3 rounded-md text-white font-semibold transition-colors\n                  ".concat(u?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:u?"Calculando...":"Calcular distancia"}),(0,n.jsx)("button",{type:"button",onClick:()=>{t(""),s(""),c(null),d(null)},className:"flex-1 p-3 rounded-md bg-gray-400 text-white font-semibold hover:bg-gray-500 transition-colors",children:"Limpiar"})]})]}),r&&(0,n.jsxs)("p",{className:"mt-8 text-center text-green-700 font-medium text-lg",children:["Distancia: ",r," km"]}),i&&(0,n.jsx)("p",{className:"mt-6 text-center text-red-600 font-medium",children:i})]})})]})}},6759:(e,t,a)=>{Promise.resolve().then(a.bind(a,726)),Promise.resolve().then(a.t.bind(a,3063,23))}},e=>{e.O(0,[634,441,964,358],()=>e(e.s=6759)),_N_E=e.O()}]);