(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{726:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),l=s(2115);let n=(0,s(5028).default)(()=>Promise.all([s.e(484),s.e(761),s.e(408)]).then(s.bind(s,4408)),{loadableGenerated:{webpack:()=>[4408]},ssr:!1}),o=()=>{let[e,t]=(0,l.useState)(""),[s,o]=(0,l.useState)(""),[r,c]=(0,l.useState)(null),[i,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(!1),[x,b]=(0,l.useState)(null),[f,h]=(0,l.useState)(null),g=async e=>{let t="https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(e),"&format=json&limit=1"),s=await fetch(t),a=await s.json();if(0===a.length)throw Error('No se encontraron coordenadas para "'.concat(e,'"'));return console.log(a[0].lat),console.log(a[0].lon),{lat:a[0].lat,lon:a[0].lon}},p=async()=>{d(null),c(null),m(!0);try{let t=await g(e);b(t);let a=await g(s);h(a);let l="https://router.project-osrm.org/route/v1/driving/".concat(t.lon,",").concat(t.lat,";").concat(a.lon,",").concat(a.lat,"?overview=false"),n=await fetch(l),o=await n.json();if("Ok"===o.code&&o.routes&&0!==o.routes.length){let e=(o.routes[0].distance/1e3).toFixed(2);c(e)}else d("No se pudo calcular la ruta")}catch(e){d(e.message||"Error desconocido")}finally{m(!1)}};return(0,a.jsxs)("div",{className:"relative min-h-screen font-sans text-gray-800",children:[x&&f&&(0,a.jsx)("div",{className:"absolute inset-0 -z-10",children:(0,a.jsx)(n,{origen:x,destino:f})}),(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-white bg-opacity-90 rounded-lg shadow-lg backdrop-blur-sm",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-center mb-6",children:"Calculadora de Distancia con Geocoding"}),(0,a.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!e.trim()||!s.trim())return void d("Por favor ingresa ambas direcciones");p()},className:"flex flex-col space-y-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Direcci\xf3n origen",value:e,onChange:e=>t(e.target.value),className:"p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base"}),(0,a.jsx)("input",{type:"text",placeholder:"Direcci\xf3n destino",value:s,onChange:e=>o(e.target.value),className:"p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full sm:flex-1 p-3 rounded-md text-white font-semibold transition-colors text-sm sm:text-base ".concat(u?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:u?"Calculando...":"Calcular distancia"}),(0,a.jsx)("button",{type:"button",onClick:()=>{t(""),o(""),c(null),d(null)},className:"w-full sm:flex-1 p-3 rounded-md bg-gray-400 text-white font-semibold hover:bg-gray-500 transition-colors text-sm sm:text-base",children:"Limpiar"})]})]}),r&&(0,a.jsxs)("p",{className:"mt-6 text-center text-green-700 font-medium text-lg",children:["Distancia: ",r," km"]}),i&&(0,a.jsx)("p",{className:"mt-4 text-center text-red-600 font-medium",children:i})]})})]})}},6759:(e,t,s)=>{Promise.resolve().then(s.bind(s,726)),Promise.resolve().then(s.t.bind(s,3063,23))}},e=>{e.O(0,[634,441,964,358],()=>e(e.s=6759)),_N_E=e.O()}]);